{% extends "base.html" %}
{% block navbar %}
<li class="nav-item">
  <a class="nav-link" href="/">Acceuil</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/planning/">Planning</a>
</li>
<li class="nav-item">
  <a class="nav-link active" href="/inscription/">Inscription</a>
</li>
{% endblock %}

{% block content %}
<form action="/inscription/" method="POST">
  {{ csrf_input }}
  <p>Afin de limiter les affluences et garantir la sécurité de tous, nous vous demandons de vous inscrire afin de participer aux portes ouvertes du lycée Aristide Briand. Une seule inscription est demandée par famille.</p>
  <div class="form-floating mb-3">
    <input type="text" name="firstname" class="form-control {% if errors is defined %}{% if errors.message_dict['firstname'] is defined %}is-invalid{% endif %}{% endif %}" id="firstname" placeholder="Robert" value="{{ request.POST['firstname']|default() }}" required>
    <label for="firstname">Prénom</label>
    <div id="validationfirstname" class="invalid-feedback">{% if errors is defined %} {{ errors.message_dict["firstname"][0] }} {% endif %}</div>
  </div>
  <div class="form-floating mb-3">
    <input type="text" name="lastname" class="form-control {% if errors is defined %}{% if errors.message_dict['lastname'] is defined %}is-invalid{% endif %}{% endif %}" id="lastname" placeholder="Durand" value="{{ request.POST['lastname']|default() }}" required>
    <label for="lastname">Nom</label>
    <div id="validationlastname" class="invalid-feedback">{% if errors is defined %} {{ errors.message_dict["lastname"][0] }} {% endif %}</div>
  </div>
  <div class="form-floating mb-3">
    <input type="email" name="email" class="form-control {% if errors is defined %}{% if errors.message_dict['email'] is defined %}is-invalid{% endif %}{% endif %}" id="email" placeholder="robert@exemple.fr" value="{{ request.POST['email']|default() }}" required>
    <label for="email">Addresse email</label>
    <div id="validationemail" class="invalid-feedback">{% if errors is defined %} {{ errors.message_dict["email"][0] }} {% endif %}</div>
  </div>
  <p>Le planning ci-dessous vous permet pour chaque filière ou formation de choisir la tranche horaire la plus favorable en fontion de vos disponibilités. La valeur indique la surface en mètre carré par {% if config.group %}groupe de personnes{% else %}personnes{% endif %}. La couleur indique les niveaux dépassés : <span class="badge bg-{{ config.level.correct[1] }}">&ge; {{ config.level.caution[0] }} m²</span> <span class="badge bg-{{ config.level.caution[1] }}">&lt; {{ config.level.caution[0] }} m²</span> <span class="badge bg-{{ config.level.warning[1] }}">&lt; {{ config.level.warning[0] }} m²</span> <span class="badge bg-{{ config.level.forbidden[1] }}">&lt; {{ config.level.forbidden[0] }} m²</span> Si ce dernier niveau est dépassé dans un créneau, il n'est plus possible de s'y inscrire.</p>
  {% include "scheduling_booking.html" %}
  <button type="submit" class="btn btn-primary">Valider</button>
</form>
{% endblock %}